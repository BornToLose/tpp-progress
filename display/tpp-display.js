var __extends=this&&this.__extends||function(){var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),fakeQuery=function(e){return Array.prototype.slice.call(document.querySelectorAll(e))},$find=function(e,t){return e.map(function(e){return e?Array.prototype.slice.call(e.querySelectorAll(t)):[]})},dexData="undefined"!=typeof Pokedex?Pokedex:{};!function(e){var t;(t=e.Display||(e.Display={})).cleanString=function(e){return(e||"").toString().replace(/♀/g,"F").replace(/♂/g,"M").replace(/[^A-Z0-9-]/gi,"").toLowerCase()},t.pokeRedCondenseText=function(e){return e=(e=(e=(e=(e=(e=(e=e.replace(/'l/gi,"|")).replace(/'m/gi,"~")).replace(/'r/gi,"%")).replace(/'s/gi,"&")).replace(/'t/gi,"}")).replace(/'v/gi,"@")).replace(/#/gi,"#.")}}(TPP=TPP||{});var updatePage=updatePage||function(){},reprocessCharts=reprocessCharts||function(){},baseSettings={explode:{displayName:"Stagger Clumps",defaultValue:!0},hideUnfinished:{displayName:"Hide Runs Left Unfinished",defaultValue:!0,extraAction:reprocessCharts}},settings=JSON.parse(localStorage.getItem("settings")||"{}");Object.keys(baseSettings).forEach(function(e){return settings[e]="boolean"==typeof settings[e]?settings[e]:baseSettings[e].defaultValue});var showGroups=JSON.parse(localStorage.getItem("showGroups")||"{}");function toggleSetting(e){var t=e.id;settings[t]=e.checked,localStorage.setItem("settings",JSON.stringify(settings)),$.when((baseSettings[t].extraAction||function(){})()).always(updatePage)}function toggleGroup(e){var t=e.id.split("-").pop(),n=e.checked;showGroups[t]=n,localStorage.setItem("showGroups",JSON.stringify(showGroups)),$("."+t.replace(/[^A-Z0-9]/gi,"")).toggleClass("hidden",!n),updatePage()}var groupList,groups,QueryString=function(){var n={};return window.location.search.substring(1).split("&").forEach(function(e){var t;0<e.indexOf("=")?(t=e.split("="),n[t.shift()]=decodeURI(t.join("="))):n[e]="true"}),n}();function SerializeQueryString(){return Object.keys(QueryString).filter(function(e){return QueryString[e]}).length?"?"+Object.keys(QueryString).filter(function(e){return QueryString[e]}).map(function(e){return e+("true"==QueryString[e]?"":"="+encodeURI(QueryString[e]))}).join("&"):""}function updateGroups(){var t;groups&&groupList&&(t=$find([groupList],"input").pop().map(function(e){return e.id.split("-").pop()})||[],Object.keys(groups).filter(function(e){return t.indexOf(e)<0}).forEach(function(e){var t=document.createElement("li"),n=document.createElement("input"),a=document.createElement("label");t.appendChild(n),t.appendChild(a),groupList.appendChild(t),n.type="checkbox",a.htmlFor=n.id="group-"+e,n.checked=!1!==showGroups[e],a.innerText=groups[e],n.onchange=function(){return toggleGroup(n)}}))}function icon(e,t,n){var a=document.createElement("i");a.classList.add("fa",e),a.title=t;var r=document.createElement("a");return r.href="javascript:void(0)",r.appendChild(a),n&&(r.onclick=n),r}function listControl(e,t){var n=document.createElement("li");n.appendChild(icon(e,t));var a=document.createElement("ul");return n.appendChild(a),{controlElement:n,listElement:a}}function qsListMenu(e,t,a,n,r,s){void 0===r&&(r="All"),void 0===s&&(s="");var i=listControl(e,t),o=QueryString[a];return QueryString[a]=null,30<n.length?i.listElement.className="very-long":20<n.length&&(i.listElement.className="long"),n.forEach(function(e){var t=document.createElement("li"),n=document.createElement("a");n.innerText=n.innerHTML=e?s+(QueryString[a]=e):r,n.href=window.location.href.split("?").shift()+SerializeQueryString(),i.listElement.appendChild(t),t.appendChild(n),o==e&&t.classList.add("selected")}),QueryString[a]=o,i.controlElement}function qsOptionsMenu(e,t,r){var s=listControl(e,t);return Object.keys(r).forEach(function(e){var t=document.createElement("li"),n=document.createElement("a"),a=QueryString[e];QueryString[e]=a?null:"true",n.innerText=n.innerHTML=r[e],n.href=window.location.href.split("?").shift()+SerializeQueryString(),s.listElement.appendChild(t),t.appendChild(n),(QueryString[e]=a)&&t.classList.add("selected")}),s.controlElement}var zoomIn=zoomIn||function(){},zoomOut=zoomOut||zoomIn;function zoomButtons(){var e=document.createElement("li"),t=document.createElement("li");return e.appendChild(icon("fa-search-plus","Zoom In",function(){return zoomIn()})),t.appendChild(icon("fa-search-minus","Zoom Out",function(){return zoomOut()})),[e,t]}function settingsMenu(){var r=listControl("fa-gear","Settings");return Object.keys(baseSettings).forEach(function(e){var t=document.createElement("li"),n=document.createElement("input");n.type="checkbox",n.id=e,n.checked=settings[e],n.onchange=function(){return toggleSetting(n)},t.appendChild(n);var a=document.createElement("label");a.htmlFor=n.id,a.innerText=a.innerHTML=baseSettings[e].displayName,t.appendChild(a),r.listElement.appendChild(t)}),r.controlElement.classList.add("settings"),r.controlElement}function groupsMenu(){var e=listControl("fa-eye","Groups");return groupList=e.listElement,e.controlElement.classList.add("groups"),updateGroups(),e.controlElement}function dayMenu(e){void 0===e&&(e=40);var n=0,a=parseInt(QueryString.day||"0")||0;Array.isArray(e)?e.forEach(function(t){return t.Runs.forEach(function(e){return n=Math.max(n,Math.ceil(TPP.Duration.parse(e.Duration,e.StartTime).TotalTime(t.Scale)+(t.Offset||0)+a))})}):n=e;var t=listControl("fa-calendar","Day"),r=document.createElement("li"),s=document.createElement("select");s.id="day";for(var i=0;i<n+1;i++){var o=document.createElement("option");i?o.value=o.innerText=o.innerHTML=i.toFixed(0):o.innerText=o.innerHTML="All",a==i&&(o.selected=!0),s.appendChild(o)}var l=document.createElement("label");return l.htmlFor=s.id,l.innerHTML="Day:&nbsp;",r.appendChild(l),r.appendChild(s),t.listElement.appendChild(r),s.onchange=function(){QueryString.day="All"==s.value?null:s.value,window.location.href=window.location.href.split("?").shift()+SerializeQueryString()},t.controlElement}function regionMenu(e){var t;return e[0]&&e[0].Name?(t=[],e.forEach(function(e){e.Runs.forEach(function(e){e.Unfinished||(e.Region&&t.indexOf(e.Region)<0&&t.push(e.Region),(e.AdditionalRegions||[]).forEach(function(e){e.Name&&t.indexOf(e.Name)<0&&t.push(e.Name)}))})})):t=e,qsListMenu("fa-globe","Region","region",t)}var TPP,pokedexGenerationsMenu=function(){return qsListMenu("fa-gamepad","Generations","g",Pokedex.GenSlice.map(function(e,t){return t?t.toFixed(0):null}),"All","Generation ")},pokedexRegionsMenu=function(){return qsListMenu("fa-globe","Region","dex",Object.keys(Pokedex.Regional).map(function(e,t){return t?e:null}),"National")},pokedexSortMenu=function(){return qsListMenu("fa-sort","Sort","sort",Object.keys(TPP.Pokedex.DexSorting).filter(function(e){return!isNaN(e)}).map(function(e){return parseInt(e)?TPP.Pokedex.DexSorting[e]:null}),TPP.Pokedex.DexSorting[0])},getTwitchVideos=getTwitchVideos||function(){};function twitchButton(){var e=document.createElement("li");return e.appendChild(icon("fa-twitch","Twitch Videos",function(){return getTwitchVideos()})),e}function defaultControls(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=zoomButtons();return n.push(settingsMenu()),n.push(groupsMenu()),e.forEach(function(e){return n.push(e)}),n.push(twitchButton()),n}function drawControls(e,t){t=t||(document.currentScript||Array.prototype.concat.apply([],document.getElementsByTagName("script")).pop()).parentElement,e.forEach(function(e){t.appendChild(e),t.appendChild(document.createTextNode("\n"))})}!function(e){(e.Display||(e.Display={})).Discount=function(e,t){return void 0===t&&(t=!0),e.replace(/\[([^\]]*)\]\(([^\)]*)\)/g,'<a href="$2"'+(t?' target="_blank"':"")+">$1</a>").replace(/\n/g,"<br/>")}}(TPP=TPP||{}),function(v){var E;(function(e){var s={},i={},o={};s.Red=s.Blue=s.Yellow=["Pallet Town","Viridian City","Pewter City","Cerulean City","Lavender Town","Vermilion City","Celadon City","Fuchsia City","Cinnabar Island","Pokémon League","Saffron City","Unused Fly location","Route 1","Route 2","Route 3","Route 4","Route 5","Route 6","Route 7","Route 8","Route 9","Route 10","Route 11","Route 12","Route 13","Route 14","Route 15","Route 16","Route 17","Route 18","Sea Route 19","Sea Route 20","Sea Route 21","Route 22","Route 23","Route 24","Route 25","Red's house (first floor)","Red's house (second floor)","Blue's house","Professor Oak's Lab","Pokémon Center (Viridian City)","Poké Mart (Viridian City)","School (Viridian City)","House 1 (Viridian City)","Pokémon Gym (Viridian City)","Diglett's Cave (Route 2 entrance)","Gate (Viridian City/Pewter City) (Route 2)","Oak's Aide House 1 (Route 2)","Gate (Route 2)","Gate (Route 2/Viridian Forest) (Route 2)","Viridian Forest","Pewter Museum (floor 1)","Pewter Museum (floor 2)","Pokémon Gym (Pewter City)","House with disobedient Nidoran♂ (Pewter City)","Poké Mart (Pewter City)","House with two Trainers (Pewter City)","Pokémon Center (Pewter City)","Mt. Moon (Route 3 entrance)","Mt. Moon","Mt. Moon","Invaded house (Cerulean City)","Poliwhirl for Jynx trade house (Red/Blue)Bulbasaur adoption house (Pokémon Yellow)","Pokémon Center (Cerulean City)","Pokémon Gym (Cerulean City)","Bike Shop (Cerulean City)","Poké Mart (Cerulean City)","Pokémon Center (Route 4)","Invaded house - alternative music (Cerulean City)","Saffron City Gate (Route 5)","Entrance to Underground Path (Kanto Routes 5-6) (Route 5)","Daycare Center (Route 5)","Saffron City Gate (Route 6)","Entrance to Underground Path (Route 6)","Entrance to Underground Path 2 (Route 6)","Saffron City Gate (Route 7)","Entrance to Underground Path (Route 7)","Entrance to Underground Path 2 (Route 7)","Saffron City Gate (Route 8)","Entrance to Underground Path (Route 8)","Pokémon Center (Rock Tunnel)","Rock Tunnel","Power Plant","Gate 1F (Route 11-Route 12)","Diglett's Cave (Vermilion City entrance)","Gate 2F (Route 11-Route 12)","Gate (Route 12-Route 13)","Sea Cottage","Pokémon Center (Vermilion City)","Pokémon Fan Club (Vermilion City)","Poké Mart (Vermilion City)","Pokémon Gym (Vermilion City)","House with Pidgey (Vermilion City)","Vermilion Harbor (Vermilion City)","S.S. Anne 1F","S.S. Anne 2F","S.S. Anne 3F","S.S. Anne B1F","S.S. Anne (Deck)","S.S. Anne (Kitchen)","S.S. Anne (Captain's room)","S.S. Anne 1F (Gentleman's room)","S.S. Anne 2F (Gentleman's room)","S.S. Anne B1F (Sailor/Fisherman's room)","Unused (Victory Road)","Unused (Victory Road)","Unused (Victory Road)","Victory Road (Route 23 entrance)","Unused (Pokémon League)","Unused (Pokémon League)","Unused (Pokémon League)","Unused (Pokémon League)","Lance's Elite Four room","Unused (Pokémon League)","Unused (Pokémon League)","Unused (Pokémon League)","Unused (Pokémon League)","Hall of Fame","Underground Path (Route 5-Route 6)","Blue's room","Underground Path (Route 7-Route 8)","Celadon Department Store 1F","Celadon Department Store 2F","Celadon Department Store 3F","Celadon Department Store 4F","Celadon Department Store Rooftop Square","Celadon Department Store Lift","Celadon Mansion 1F","Celadon Mansion 2F","Celadon Mansion 3F","Celadon Mansion 4F","Celadon Mansion 4F (Eevee building)","Pokémon Center (Celadon City)","Pokémon Gym (Celadon City)","Rocket Game Corner (Celadon City)","Celadon Department Store 5F","Prize corner (Celadon City)","Restaurant (Celadon City)","House with Team Rocket members (Celadon City)","Hotel (Celadon City)","Pokémon Center (Lavender Town)","Pokémon Tower F1","Pokémon Tower F2","Pokémon Tower F3","Pokémon Tower F4","Pokémon Tower F5","Pokémon Tower F6","Pokémon Tower F7","Mr. Fuji's house (Lavender Town)","Poké Mart (Lavender Town)","House with NPC discussing Cubone's mother","Poké Mart (Fuchsia City)","House with NPCs discussing Bill (Fuchsia City)","Pokémon Center (Fuchsia City)","Warden's house (Fuchsia City)","Safari Zone gate (Fuchsia City)","Pokémon Gym (Fuchsia City)","House with NPCs discussing Baoba (Fuchsia City)","Seafoam Islands","Seafoam Islands","Seafoam Islands","Seafoam Islands","Vermilion City Fishing Brother","Fuchsia City Fishing Brother","Pokémon Mansion (1F)","Pokémon Gym (Cinnabar Island)","Pokémon Lab (Cinnabar Island)","Pokémon Lab - Trade room (Cinnabar Island)","Pokémon Lab - Room with scientists (Cinnabar Island)","Pokémon Lab - Fossil resurrection room (Cinnabar Island)","Pokémon Center (Cinnabar Island)","Poké Mart (Cinnabar Island)","Poké Mart - alternative music (Cinnabar Island)","Pokémon Center (Indigo Plateau)","Copycat's house 1F (Saffron City)","Copycat's house 2F (Saffron City)","Fighting Dojo (Saffron City)","Pokémon Gym (Saffron City)","House with Pidgey (Saffron City)","Poké Mart (Saffron City)","Silph Co. 1F","Pokémon Center (Saffron City)","Mr. Psychic's house (Saffron City)","Gate 1F (Route 15)","Gate 2F (Route 15)","Gate 1F (Cycling Road (Route 16)","Gate 2F (Cycling Road (Route 16)","Secret house (Cycling Road) (Route 16)","Route 12 Fishing Brother","Gate 1F (Route 18)","Gate 2F (Route 18)","Seafoam Islands","Badges check gate (Route 22)","Victory Road","Gate 2F (Route 12)","House with NPC and HM moves advice Vermilion City","Diglett's Cave","Victory Road","Team Rocket Hideout (B1F)","Team Rocket Hideout (B2F)","Team Rocket Hideout (B3F)","Team Rocket Hideout (B4F)","Team Rocket Hideout (Lift)","Unused (Team Rocket Hideout)","Unused (Team Rocket Hideout)","Unused (Team Rocket Hideout)","Silph Co. (2F)","Silph Co. (3F)","Silph Co. (4F)","Silph Co. (5F)","Silph Co. (6F)","Silph Co. (7F)","Silph Co. (8F)","Pokémon Mansion (2F)","Pokémon Mansion (3F)","Pokémon Mansion (B1F)","Safari Zone (Area 1)","Safari Zone (Area 2)","Safari Zone (Area 3)","Safari Zone (Entrance)","Safari Zone (Rest house 1)","Safari Zone (Prize house)","Safari Zone (Rest house 2)","Safari Zone (Rest house 3)","Safari Zone (Rest house 4)","Unknown Dungeon","Unknown Dungeon 1F","Unknown Dungeon B1F","Name Rater's house (Lavender Town)","Cerulean City (Gym Badge man)","Unused (Rock Tunnel)","Rock Tunnel","Silph Co. 9F","Silph Co. 10F","Silph Co. 11F","Silph Co. Lift","(Invalid)","(Invalid)","Cable Club Trade Center(*)","Cable Club Colosseum(*)","(Invalid)","(Invalid)","(Invalid)","(Invalid)","Lorelei's room","Bruno's room","Agatha's room","Summer Beach House (Pokémon Yellow)","(Invalid)","(Invalid)","(Invalid)","(Invalid)","(Invalid)","(Invalid)","?"],i.Red=i.Blue=i.Yellow={TM01:"Mega Punch",TM02:"Razor Wind",TM03:"Swords Dance",TM04:"Whirlwind",TM05:"Mega Kick",TM06:"Toxic",TM07:"Horn Drill",TM08:"Body Slam",TM09:"Take Down",TM10:"Double-Edge",TM11:"BubbleBeam",TM12:"Water Gun",TM13:"Ice Beam",TM14:"Blizzard",TM15:"Hyper Beam",TM16:"Pay Day",TM17:"Submission",TM18:"Counter",TM19:"Seismic Toss",TM20:"Rage",TM21:"Mega Drain",TM22:"SolarBeam",TM23:"Dragon Rage",TM24:"Thunderbolt",TM25:"Thunder",TM26:"Earthquake",TM27:"Fissure",TM28:"Dig",TM29:"Psychic",TM30:"Teleport",TM31:"Mimic",TM32:"Double Team",TM33:"Reflect",TM34:"Bide",TM35:"Metronome",TM36:"Selfdestruct",TM37:"Egg Bomb",TM38:"Fire Blast",TM39:"Swift",TM40:"Skull Bash",TM41:"Softboiled",TM42:"Dream Eater",TM43:"Sky Attack",TM44:"Rest",TM45:"Thunder Wave",TM46:"Psywave",TM47:"Explosion",TM48:"Rock Slide",TM49:"Tri Attack",TM50:"Substitute",HM01:"Cut",HM02:"Fly",HM03:"Surf",HM04:"Strength",HM05:"Flash"},o.Red=o.Blue=o.Yellow=["Bicycle","Bike Voucher","Card Key","Coin Case","Dome Fossil","Gold Teeth","Good Rod","Helix Fossil","Itemfinder","Lift Key","Oak's Parcel","Old Amber","Old Rod","Poké Flute","Secret Key","Silph Scope","S.S.Ticket","Super Rod","Town Map","HM01","HM02","HM03","HM04","HM05"].map(function(e){return e.toUpperCase()});var r=function(){return 0<window.location.hash.indexOf("m4-test")};function l(){return r()?$.get("http://localhost:1337/"):$.get("https://twitchplayspokemon.tv/api/run_status")}function n(e){return e.reduce(function(e,t){return e.concat(t.Runs)},[]).sort(function(e,t){return e.EndTime-t.EndTime}).pop()}function u(e){return e=(e=(e=(e=(e=(e=(e=e.replace(/'l/gi,"|")).replace(/'m/gi,"~")).replace(/'r/gi,"%")).replace(/'s/gi,"&")).replace(/'t/gi,"}")).replace(/'v/gi,"@")).replace(/#/gi,"#.")}function c(t,e,n,a){var r;t.Duration=(new Date).toISOString(),a.children().remove(),a.append($("<h1>").text(t.RunName)),n.party?a.append(function(e,t){var n=m().addClass("hallOfFameDisplay");n.append(S()),n.addClass(E.cleanString(e.RunName)+" "+(e.Class||"")+" "+(e.BaseGame||"")),n.append($("<h3>").text("Current Party")),n.append($("<h4>").text(v.Duration.parse(e.Duration,e.StartTime).toString(v.Scale.Days)));var i=$("<tr>").appendTo($("<table>").appendTo(n)),a=$("<div class='entry host'>").appendTo($("<td>").appendTo(i)),r=$("<img>").attr("src",e.HostImage).attr("alt",e.HostName).attr("title",e.HostName);e.HostImageSource&&(r=$("<a>").attr("href",e.HostImageSource).append(r));a.append(r);var s=$('<div class="info">').append($('<div class="name">').text(e.HostName)).appendTo(a);t.money&&s.append($('<div data-entry="Money">').text("$"+t.money.toString()));t.coins&&s.append($('<div data-entry="Coins">').text(t.coins.toString()));{var o;t.badges&&(o=t.badges.toString(2).match(/1/g).length,s.append($('<div data-entry="Badges">').text(o)))}t.caught&&s.append($('<div data-entry="Owned">').text(t.caught.toString()));t.seen&&s.append($('<div data-entry="Seen">').text(t.seen.toString()));t.party.forEach(function(e){var t=(e.name||e.species.name).replace(/\s/g,"&nbsp;").replace(/Ë/g,"µ").replace(/Ê/g,"π"),n=$("<div class='entry'>");e.health&&!e.health[0]?n.addClass("fainted"):n.addClass(e.status),n.append($("<span class='level'>").text(e.level)),n.append($("<div class='pokesprite'><img src='img/missingno.png'/></div>").addClass(E.cleanString(e.species.name)).attr("title",e.species.name));var a,r,s=$("<div class='info'>").append($("<div class='name'>").html(t)).appendTo(n);e.species.id&&(r=("000"+(a=e.species.id.toString())).substring(a.length),s.append($("<div data-entry='"+r+"'>").text(e.species.name))),(e.moves||[]).forEach(function(e,t){return s.append($("<div data-entry='Move "+(t+1).toString()+"'>").text(e.name))}),i.append($("<td>").append(n))});for(var l=t.party.length;l<6;l++)$("<div class='entry'>").appendTo($("<td>").appendTo(i));return n.get(0)}(t,n)):0<t.Events.filter(function(e){return e.Party}).length&&a.append(function(e,t,n){void 0===n&&(n=v.Scale.Days);var a=m().addClass("hallOfFameDisplay");a.append(S()),a.addClass(E.cleanString(e.RunName)+" "+(e.Class||"")+" "+(e.BaseGame||""));var r=new Date(1e3*(v.Duration.parse(t.Time,e.StartTime).TotalSeconds+e.StartTime));a.append($("<h3>").text(u(t.Name+" - "+r.toLocaleDateString()))),a.append($("<h4>").text(v.Duration.parse(t.Time,e.StartTime).toString(n))),t.Attempts&&a.append($("<h5>").text(t.Attempts+" Attempts"));a.append($("<img>").attr("src",t.Image));var i=$("<tr>").appendTo($("<table>").appendTo(a)),s=$("<div class='entry host'>").appendTo($("<td>").appendTo(i)),o=$("<img>").attr("src",e.HostImage).attr("alt",e.HostName).attr("title",e.HostName);e.HostImageSource&&(o=$("<a>").attr("href",e.HostImageSource).append(o));s.append(o);var l=$('<div class="info">').append($('<div class="name">').text(e.HostName)).appendTo(s);t.IDNo&&l.append($('<div data-entry="IDNo">').text(t.IDNo));t.Party.forEach(function(e){var t=(e.Nickname||e.Pokemon).replace(/\s/g,"&nbsp;"),n=$("<div class='entry'>").addClass((e.Gender||"").toLowerCase());n.append($("<span class='level'>").text(e.Level)),n.append($("<div class='pokesprite'><img src='img/missingno.png'/></div>").addClass(E.cleanString(e.Pokemon)).addClass(e.Shiny?"shiny":"").addClass((e.Gender||"").toLowerCase()).addClass(e.Class).addClass(E.cleanString(e.Form||"")).attr("title",e.Pokemon));var a,r,s=$("<div class='info'>").append($("<div class='name'>").html(t)).appendTo(n);e.Number&&(r=("000"+(a=e.Number.toString())).substring(a.length),s.append($("<div data-entry='"+r+"'>").text(e.Pokemon))),e.Met&&s.append($("<div data-entry='Met'>").text(e.Met)),e.Type1&&s.append($("<div data-entry='Type 1'>").text(e.Type1)),e.Type2&&s.append($("<div data-entry='Type 2'>").text(e.Type2)),e.OT&&s.append($("<div data-entry='OT'>").text(e.OT)),e.IDNo&&s.append($("<div data-entry='IDNo'>").text(e.IDNo)),i.append($("<td>").append(n))});for(var c=t.Party.length;c<6;c++)$("<div class='entry'>").appendTo($("<td>").appendTo(i));return a.get(0)}(t,t.Events.filter(function(e){return e.Party}).pop())),n.map_id&&a.append(function(e,t){var n=$("<div class='location'>");s[e.BaseGame]&&"number"==typeof t.map_id&&n.append($("<h2>").text("Current Location: "+s[e.BaseGame][t.map_id]));return n}(t,n)),0<y(t).length&&a.append(R(t,y(t))),0<f(t).length&&a.append(R(t,f(t))),0<g(t).length&&a.append(R(t,g(t))),0<h(t).length&&a.append(R(t,h(t))),0<d(t).length&&a.append(R(t)),n.items&&a.append(p(n.items.items,void 0,i[t.BaseGame],o[t.BaseGame])),n.items.pc&&a.append(p(n.items.pc,t.HostName+"'s PC",i[t.BaseGame],o[t.BaseGame])),e&&0<e.TotalOwnedBy(t)&&(r=e.Entries.filter(function(e){return 0<e.Owners.filter(function(e){return e.Run==t}).length}),e.Entries=e.Entries.map(function(e){return r.indexOf(e)<0&&(e.Owners=[]),e}))}function m(){return $("<div>").addClass("pokeBorder").append($("<div class='border'>")).append($("<div class='border'>"))}function p(e,t,n,a){void 0===t&&(t="Items"),void 0===n&&(n={}),void 0===a&&(a=[]),e=e||[];var r=m().addClass("itemsList");r.append(S()),r.append($("<h3>").text(u(t+" ("+e.length+")")));var s=$("<ul>").appendTo(r);return e.map(function(e){return 0<=a.indexOf(e.name.toUpperCase())&&e.count<2&&(e.count=null),n[e.name.toUpperCase()]&&(e.name+=" "+n[e.name.toUpperCase()]),e}).forEach(function(e){return s.append($("<li>").text(u(e.name)).attr("data-quantity",e.count))}),r}function d(e){return e.Events.filter(function(e){return"Badges"==e.Group||"Bosses"==e.Group||"Kingdoms"==e.Group})}function h(e){return e.Events.filter(function(e){return"Elite Four"==e.Group||"Final Bosses"==e.Group||"Champions"==e.Group&&e.Image.indexOf("rematch")<0&&e.Image.indexOf("hosts")<0})}function f(e){return e.Events.filter(function(e){return"Elite Four Rematch"==e.Group||"Champions"==e.Group&&0<e.Image.indexOf("rematch")})}function y(e){return e.Events.filter(function(e){return"Past Hosts"==e.Group||"Champions"==e.Group&&0<e.Image.indexOf("hosts")})}function g(e){return e.Events.filter(function(e){return"Rematch Badges"==e.Group})}function R(n,e){void 0===e&&(e=d(n));var t=m().addClass("badgeList");t.append(S()),t.append($("<h3>").text(u(e[0].Group)));var a=$("<ul>").appendTo(t);return e.forEach(function(e){var t=$("<li>").appendTo(a);t.append($("<h3>").text(e.Name)),t.append($("<img>").attr("src",e.Image)),t.append($("<h4>").text(v.Duration.parse(e.Time,n.StartTime).toString(v.Scale.Days).replace(/m.*/,"m"))),e.Attempts&&t.append($("<h5>").text(e.Attempts.toString()+" Attempt"+(1<e.Attempts?"s":"")))}),t}function S(){return $("<i>").addClass("fa fa-window-restore window-shade").click(function(){$(this).parent().children("*:not(h1,h2,h3,h4,h5,h6,.border,.window-shade)").slideToggle()})}e.GetCurrentRun=n,e.GetSpecifiedRun=function(e,t){return t=t.trim(),e.map(function(e){return e.Runs.filter(function(e){return e.RunName==t}).shift()}).filter(function(e){return!!e}).shift()||e.map(function(e){return e.Runs.filter(function(e){return 0<=e.RunName.indexOf(t)}).shift()}).filter(function(e){return!!e}).shift()||n(e)},e.RenderRunStatus=function(t,n){void 0===n&&(n=null);var a=$("<div>");return a.append($("<i class='fa fa-spinner fa-pulse'>")),t.Ongoing||0<window.location.hash.indexOf("test")||r()?l().then(function(e){return c(t,n,e,a)},function(e){a.children().remove(),a.append($("<h1 class='error'>").text("Run Status is not currently available."))}):c(t,n,{},a),a},e.UpdateRunStatus=function(t,n,a,r){void 0===r&&(r=function(){return null}),n.find("h1").first().css("position","relative").append($('<i class="fa fa-refresh fa-spin">').css({position:"absolute",right:"1em"}));var s,i=l();return s=a,$.get("http://thatswhatyouget.github.io/tpp-progress/bin/tpp-data.json").then(function(e){for(var t=0;t<s.length;t++)for(var n=0;n<s[t].Runs.length;n++)s[t].Runs[n].Events=e[t].Runs[n].Events;return s},function(e){return s}).then(function(e){return i.then(function(e){return c(t,r(a),e,n)},function(e){n.find(".fa-refresh").remove(),console.log("Could not update run status.")})})}})((E=v.Display||(v.Display={})).RunStatus||(E.RunStatus={}))}(TPP=TPP||{}),function(t){var e,n;function a(e){this.tppData=[],this.queryString={},this.controls=[],this.credits=[],this.cleanString=t.Display.cleanString,this.tppData=t.Transforms.Data.Clone(e),this.queryString=QueryString}e=t.Controllers||(t.Controllers={}),a.prototype.placeOnPage=function(e,t){if(e){if(t instanceof HTMLElement||(t=document.getElementById(t)),e.type)return ReactDOM.render(e,t);$(t).html(e)}},Object.defineProperty(a.prototype,"wrappedCredits",{get:function(){return this.credits.map(function(e){return $("<div class='credits'>").html(t.Display.Discount(e))})},enumerable:!1,configurable:!0}),a.prototype.Render=function(){$("head title").text("TPP "+this.pageTitle),this.placeOnPage(this.pageTitle,"page-title"),this.placeOnPage(this.render(),"contents"),this.placeOnPage(this.contentTitle||this.pageTitle,"content-title"),this.placeOnPage(this.seeAlso,"see-also"),this.placeOnPage(this.wrappedCredits,"credits"),this.placeOnPage(this.controls,"controls")},n=a,e.ControllerBase=n}(TPP=TPP||{}),function(o){var l,e,t;function n(e,t,n){var a,r,s,i=this;for(void 0===n&&(n=o.Scale.Days),this.Party=[],this.Class="hallOfFameDisplay",this.Host={Name:t.HostName,Image:t.HostImage,ImageSource:t.HostImageSource,Info:{}},this.Colors={ColorPrimary:t.ColorPrimary,ColorSecondary:t.ColorSecondary},this.Run=t,this.Class+=" "+l.cleanString(t.RunName),t.Class&&(this.Class+=" "+t.Class),e.Party?(a=e,this.Title=a.Name+" - "+new Date(1e3*a.UnixTime).toLocaleDateString(),this.Ribbon=a.Image,this.Attempts=a.Attempts?a.Attempts+" Attempt"+(1<a.Attempts?"s":""):null,this.Time=a.UnixTime,this.RunTime=o.Duration.parse(a.Time,t.StartTime).toString(n),a.IDNo&&(this.Host.Info.IDNo=a.IDNo),this.Party=a.Party.map(function(e){return{Name:e.Nickname||e.Pokemon,Pokemon:e.Pokemon,Level:e.Level,Gender:(e.Gender||"").toLowerCase(),Shiny:!!e.Shiny,Form:e.Form||"",Class:e.Class,Info:i.cleanInfo(i.infoAddSpeciesAndMoves({Met:e.Met,"Type 1":e.Type1,"Type 2":e.Type2,OT:e.OT,IDNo:e.IDNo},e.Number,e.Pokemon))}})):e.party&&(r=e,this.Title="Current Party",this.Time=Date.now()/1e3,(s=new o.Duration(0)).TotalSeconds=this.Time-t.StartTime,this.RunTime=s.toString(n),this.Host.Info=this.cleanInfo({Money:r.money,Coins:r.coins,Badges:((r.badges||0).toString(2).match(/1/g)||[]).length,Owned:r.caught,Seen:r.seen}),this.Party=r.party.map(function(e){return{Name:(e.name||e.species.name).replace(/Ë/g,"µ").replace(/Ê/g,"π"),Pokemon:e.species.name,Level:e.level,Gender:null,Shiny:!1,Form:null,Class:e.health&&!e.health[0]?"fainted":e.status,Info:i.cleanInfo(i.infoAddSpeciesAndMoves({},e.species.id,e.species.name,e.moves))}}));this.Party.length<6;)this.Party.push(null)}l=o.Display||(o.Display={}),e=l.ViewModels||(l.ViewModels={}),n.prototype.cleanInfo=function(t){return Object.keys(t).forEach(function(e){return t[e]||delete t[e]}),t},n.prototype.infoAddSpeciesAndMoves=function(t,e,n,a){void 0===a&&(a=[]);var r={};return e&&(r[this.dexNumStr(e)]=n),a.forEach(function(e,t){return r["Move "+(t+1)]=e.name}),Object.keys(t).forEach(function(e){return r[e]=t[e]}),r},n.prototype.dexNumStr=function(e){var t=e.toString();return("000"+t).substring(t.length)},t=n,e.PartyDisplay=t}(TPP=TPP||{}),function(e){var t,n,a,r;function s(){return null!==a&&a.apply(this,arguments)||this}t=e.Display||(e.Display={}),n=t.Elements||(t.Elements={}),a=React.PureComponent,__extends(s,a),s.prototype.render=function(){var e="pokesprite "+t.cleanString(this.props.pokemon)+" "+this.props.className+" "+this.props.gender+" "+(this.props.shiny?"shiny":"")+" "+t.cleanString(this.props.form);return React.createElement("div",{className:e,title:this.props.pokemon},React.createElement("img",{src:"img/missingno.png"}))},r=s,n.PokeSprite=r}(TPP=TPP||{}),function(e){var t,a,n,r;function s(){return null!==n&&n.apply(this,arguments)||this}t=e.Display||(e.Display={}),a=t.Elements||(t.Elements={}),n=React.Component,__extends(s,n),Object.defineProperty(s.prototype,"style",{get:function(){var e={},t=this.props.partyInfo.Colors;return t&&(t.ColorPrimary&&(e.backgroundColor=t.ColorPrimary),t.ColorSecondary&&(e.borderColor=t.ColorSecondary)),e},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"party",{get:function(){var n=this;return this.props.partyInfo.Party.map(function(t,e){return t?React.createElement("td",{key:e+1},React.createElement("div",{className:"entry "+t.Gender},React.createElement("span",{className:"level"},t.Level),React.createElement(a.PokeSprite,{pokemon:t.Pokemon,gender:t.Gender,shiny:t.Shiny,form:t.Form,className:t.Class}),React.createElement("div",{className:"info"},React.createElement("div",{className:"name"},n.preserveSpacing(t.Name)),Object.keys(t.Info).map(function(e){return React.createElement("div",{key:e,"data-entry":e},t.Info[e])})))):React.createElement("td",{key:e+1},React.createElement("div",{className:"entry"}))})},enumerable:!1,configurable:!0}),s.prototype.preserveSpacing=function(e){return e.replace(/\s/g," ")},s.prototype.render=function(){var t=this.props.partyInfo;return React.createElement("div",{className:t.Class,style:this.style},t.Title?React.createElement("h3",null,t.Title):null,t.RunTime?React.createElement("h4",{className:"time"},t.RunTime):null,t.Attempts?React.createElement("h5",{className:"attempts"},t.Attempts):null,t.Ribbon?React.createElement("img",{className:"ribbon",src:t.Ribbon}):null,React.createElement("table",null,React.createElement("tr",null,React.createElement("td",{key:0},React.createElement("div",{className:"entry host"},t.Host.ImageSource?React.createElement("a",{href:t.Host.ImageSource,target:"_blank"},React.createElement("img",{src:t.Host.Image})):React.createElement("img",{src:t.Host.Image}),React.createElement("div",{className:"info"},React.createElement("div",{className:"name"},this.preserveSpacing(t.Host.Name)),Object.keys(t.Host.Info).map(function(e){return React.createElement("div",{key:e,"data-entry":e},t.Host.Info[e])})))),this.party)),this.props.children)},r=s,a.PartyDisplay=r}(TPP=TPP||{}),function(s){var e,n,t;function a(e){var t=n.call(this,e)||this;return t.pageTitle="Hall of Fame",t.seeAlso=React.createElement("a",{href:"index.html"},"See Progress Bars"),t.credits=["Pokemon sprites are from [The DS-style 64x64 Pokémon Sprite Resource](https://www.pokecommunity.com/showthread.php?t=267728), extended for [Gen 6](https://www.pokecommunity.com/showthread.php?t=314422) and [Gen 7](https://www.pokecommunity.com/showthread.php?t=368703).","All custom host sprites can be clicked for links to their sources."],t}e=s.Controllers||(s.Controllers={}),n=e.ControllerBase,__extends(a,n),a.prototype.render=function(){var a=this,r=[];return this.tppData.forEach(function(a){return a.Runs.forEach(function(n){return n.Events.forEach(function(e){var t;e.Party&&0<s.Duration.parse(e.Time,n.StartTime).TotalSeconds&&(t=new s.Display.ViewModels.PartyDisplay(e,n,a.Scale),r.some(function(e){return e.Time==t.Time})||r.push(t))})})}),r.sort(function(e,t){return e.Time-t.Time}),React.createElement("div",{className:"hof-list"},r.map(function(e,t,n){return[t&&n[t-1].Run==e.Run?null:React.createElement("div",null,React.createElement("h2",{id:a.cleanString(e.Run.RunName)},e.Run.RunName)),React.createElement("div",null,React.createElement(s.Display.Elements.PartyDisplay,{partyInfo:e,key:e.Run.RunName+" "+e.Title}))]}))},t=a,e.HallOfFameController=t}(TPP=TPP||{}),function(e){var t,n,a,r,s;function i(e){var t=r.call(this,e)||this;t.entry=e.entry,t.showOwnership=!!e.showOwnership;var n=t.entry.Number.toString();return t.Number=("000"+n).substring(n.length),t}t=e.Display||(e.Display={}),n=t.Elements||(t.Elements={}),a=n.Pokedex||(n.Pokedex={}),r=React.Component,__extends(i,r),Object.defineProperty(i.prototype,"className",{get:function(){return("dexEntry "+(!this.showOwnership||this.entry.IsOwned?"owned":"")).trim()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"pokeName",{get:function(){return t.cleanString(this.entry.Pokemon)||"unidentified"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"owners",{get:function(){return this.entry.IsOwned?"Owned by:\n"+this.entry.Owners.map(function(e){return e.Run.HostName+" ("+e.Run.RunName+")"}).join("\n"):"Didn't Catch"},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){var e={};return this.showOwnership&&this.entry.IsOwned&&(e.backgroundColor=this.entry.Owners[0].Run.ColorPrimary),e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hallOfFame",{get:function(){if(!this.showOwnership)return null;var e=this.entry.HallOfFame;return e.length?React.createElement("div",{className:"hofRibbon"},e.map(function(e){var t=e.HostName+"'s "+e.Nickname+" ("+e.RunName+")";return React.createElement("img",{key:t,src:e.Ribbon,alt:t,title:t})})):null},enumerable:!1,configurable:!0}),i.prototype.shouldComponentUpdate=function(e,t){return!0},i.prototype.render=function(){return React.createElement("div",{key:this.Number,className:this.className,style:this.style,title:this.showOwnership?this.owners:null},React.createElement("h3",null,this.Number),React.createElement("h4",null,this.entry.DisplayName),this.props.children,React.createElement("div",{className:"pokesprite "+this.pokeName+" "+this.props.spriteClass},React.createElement("img",{src:"img/missingno.png"})),this.hallOfFame)},s=i,a.DexEntry=s}(TPP=TPP||{}),function(e){var t,n,a,r,s;function i(e){var t=r.call(this,e)||this;return t.state={filteredDex:t.FilterDex()},t}t=e.Display||(e.Display={}),n=t.Elements||(t.Elements={}),a=n.Pokedex||(n.Pokedex={}),r=React.Component,__extends(i,r),Object.defineProperty(i.prototype,"className",{get:function(){return("pokedex "+(this.props.className||"")).trim()},enumerable:!1,configurable:!0}),i.prototype.FilterDex=function(n){void 0===n&&(n=this.props);var e=n.dex.Clone();return n.caughtList&&(n.caughtList.forEach(function(t){return e.Entries.forEach(function(e){n.run&&e.Number==t&&!e.Owners.some(function(e){return e.Run==n.run})&&e.Owners.push({Run:n.run,CaughtOn:Date.now()/1e3})})}),e.FilterOwnedInDexToRuns([n.run])),!1!==n.showOwnership?e.FilterUnownedGlitchMon():e.FilterGlitchMon(),e},Object.defineProperty(i.prototype,"entries",{get:function(){var t=this;return(this.props.ownedOnly?this.state.filteredDex.Owned:this.state.filteredDex.Entries).map(function(e){return React.createElement(a.DexEntry,{key:e.Number,entry:e,showOwnership:!1!==t.props.showOwnership,spriteClass:t.props.spriteClass})})},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ownedDisplay",{get:function(){var t=this;return!1===this.props.showOwnership?React.createElement("br",null):React.createElement("h2",{className:"total",onClick:this.props.onClickTotal&&function(e){return t.props.onClickTotal()}},this.props.label||"Owned",": ",React.createElement("span",null,this.state.filteredDex.TotalOwned+"/"+this.state.filteredDex.TotalInDex+" ("+this.state.filteredDex.OwnedPercentage.toFixed(2)+"%)"))},enumerable:!1,configurable:!0}),i.prototype.componentWillReceiveProps=function(e){this.setState({filteredDex:this.FilterDex(e)})},i.prototype.render=function(){return React.createElement("div",{className:this.className},this.ownedDisplay,this.entries,this.props.children)},s=i,a.Dex=s}(TPP=TPP||{}),function(u){!function(e){var n,t=(n=e.ControllerBase,__extends(a,n),a.prototype.render=function(){var e=u.Transforms.Data.Clone(this.tppData),t=u.Transforms.Pokedex.ClipNationalDex(this.dexData.GenSlice[this.queryString.g||0]),n="",a="",r=this.queryString.dex||"National";this.queryString.dex&&this.dexData.Regional[this.queryString.dex]&&(t=u.Transforms.Pokedex.DexMerge(this.dexData.Regional[r],t),n=this.dexData.specialClasses[r]||"",this.dexData.runRestrictions[r]&&(e=u.Transforms.Data.Filter.RunSearch(e,this.dexData.runRestrictions[r]))),this.queryString.ms&&(n+=" ms"),this.queryString.shiny&&(a+=" shiny"),this.queryString.female&&(a+=" female"),this.queryString.nowifi&&(e=u.Transforms.Data.Filter.NoWifiTradePokemon(e)),this.queryString.only&&(e=u.Transforms.Data.Filter.Search(e,this.queryString.only));var s,i,o=new u.Transforms.Pokedex.GlobalDex(e,t),l=u.Pokedex.DexSorting[this.queryString.sort]||0;return o.SortDex(l),this.queryString.hofonly&&o.FilterDexToHallOfFame(),this.queryString.pokemon&&(console.log(this.queryString.pokemon),o.FilterDexPokemon(this.queryString.pokemon)),(s=this.queryString.run?(o.FilterOwnedInDexToRuns(this.queryString.run),u.Transforms.Data.Filter.GetOnlyRun(u.Transforms.Data.Filter.RunSearch(e,this.queryString.run))):u.Transforms.Data.Filter.GetOnlyRun(e))&&(n+=" "+this.cleanString(s.RunName)),this.queryString.altnames&&this.dexData.alternateNames[this.queryString.altnames]&&(i=this.dexData.alternateNames[this.queryString.altnames],o.Entries.forEach(function(e){return e.DisplayName=i[e.Number]})),0<=n.indexOf("touhoumon")&&this.credits.splice(0,1,"Touhoumon sprites ripped by [Jayare158](https://www.reddit.com/r/twitchplayspokemon/comments/5cwr3q/by_ucyanders_request_heres_a_sprite_chart_with/)."),this.contentTitle=React.createElement(c,{name:r,sorting:l}),React.createElement(u.Display.Elements.Pokedex.Dex,{dex:o,showOwnership:!this.queryString.justmon,ownedOnly:!!this.queryString.owned,className:n.trim(),spriteClass:a})},a);function a(e){var t=n.call(this,e)||this;return t.dexData=dexData,t.pageTitle="Global Pokédex",t.contentTitle=React.createElement(c,{name:"National"}),t.seeAlso=React.createElement("a",{href:"catch-report.html"},"See Catch Report"),t.controls=[pokedexGenerationsMenu(),pokedexRegionsMenu(),pokedexSortMenu(),qsOptionsMenu("fa-sliders","Options",{justmon:"Just List Pokémon",owned:"Only Show Owned Pokémon",hofonly:"Only Show Hall of Fame Pokémon",nowifi:"Exclude Wi-Fi Trades"})],t.credits=["Pokemon sprites are from [The DS-style 64x64 Pokémon Sprite Resource](https://www.pokecommunity.com/showthread.php?t=267728), extended for [Gen 6](https://www.pokecommunity.com/showthread.php?t=314422) and [Gen 7](https://www.pokecommunity.com/showthread.php?t=368703).","Early run catch data provided by [twitchplayspokemon.org](http://twitchplayspokemon.org/)."],t}e.PokedexController=t;var r,c=(r=React.Component,__extends(s,r),Object.defineProperty(s.prototype,"dexName",{get:function(){return this.state.name+(this.state.name.toLowerCase().indexOf("book")+this.state.name.indexOf("dex")<0?" Pokédex":"")+(0<this.state.sorting?" ("+u.Pokedex.DexSorting[this.state.sorting]+" Order)":"")},enumerable:!1,configurable:!0}),s.prototype.render=function(){return React.createElement("span",null,this.dexName)},s);function s(e){var t=r.call(this,e)||this;return t.state={name:t.props.name,sorting:t.props.sorting||0},t}}(u.Controllers||(u.Controllers={}))}(TPP=TPP||{}),function(e){var t,n,a,r;function s(){return null!==a&&a.apply(this,arguments)||this}t=e.Display||(e.Display={}),n=t.Elements||(t.Elements={}),a=React.Component,__extends(s,a),s.prototype.render=function(){return React.createElement("div",{className:("pokeBorder "+(this.props.className||"")).trim()},React.createElement("div",{className:"border"}),React.createElement("div",{className:"border"}),React.createElement("h3",null,t.pokeRedCondenseText(this.props.title)),React.createElement("div",null,this.props.children))},r=s,n.PokeBox=r}(TPP=TPP||{}),function(e){var a,t,n,r,s;function i(){return null!==r&&r.apply(this,arguments)||this}a=e.Display||(e.Display={}),t=a.Elements||(a.Elements={}),n=t.RunStatus||(t.RunStatus={}),r=React.Component,__extends(i,r),Object.defineProperty(i.prototype,"title",{get:function(){return this.props.title||(this.props.events[0]||{Group:""}).Group},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"events",{get:function(){return React.createElement("ul",null,(this.props.events||[]).map(function(e,t,n){return React.createElement("li",{key:t},React.createElement("h3",null,e.Name),React.createElement(e.ImageSource?"a":"div",{href:e.ImageSource||null,target:e.ImageSource?"_blank":null,className:["image",(e.Class||"").toLowerCase(),a.cleanString(e.Name)].join(" ").trim()},React.createElement("img",{src:e.Image||"img/missingno.png"})),React.createElement("h4",null,e.RunTime),e.Attempts?React.createElement("h5",null,e.Attempts+" Attempt"+(1<e.Attempts?"s":"")):0<n.filter(function(e){return!!e.Attempts}).length?React.createElement("h5",null," "):null)}))},enumerable:!1,configurable:!0}),i.prototype.render=function(){return this.props.events&&this.props.events.length?React.createElement(t.PokeBox,{title:this.title,className:"badgeList"},this.props.children,this.events):null},s=i,n.EventDisplay=s}(TPP=TPP||{}),function(e){var n,t,a,r,s;function i(){return null!==r&&r.apply(this,arguments)||this}n=e.Display||(e.Display={}),t=n.Elements||(n.Elements={}),a=t.RunStatus||(t.RunStatus={}),r=React.Component,__extends(i,r),i.prototype.render=function(){var e=this.props.items||[];return e.length?React.createElement(t.PokeBox,{title:this.props.title+" ("+e.length+")",className:"itemsList"},React.createElement("ul",null,e.map(function(e,t){return React.createElement("li",{key:t,"data-id":e.id,"data-quantity":e.key_item?null:e.count},n.pokeRedCondenseText(e.name||"Item #"+e.id))}))):null},s=i,a.ItemDisplay=s}(TPP=TPP||{}),function(e){var h,f;h=e.Display||(e.Display={}),function(e){var t,n=(t=React.Component,__extends(a,t),a.prototype.render=function(){return React.createElement(f.PokeBox,{title:"Current Party",className:"pokemon-hud"},React.createElement("ul",{className:"party"},this.props.trainer?React.createElement("li",{key:"host"},React.createElement("div",{className:"pokemon-image"},this.props.run.HostImageSource?React.createElement("a",{href:this.props.run.HostImageSource,target:"_blank"},React.createElement("img",{src:this.props.run.HostImage,alt:this.props.run.HostName})):React.createElement("img",{src:this.props.run.HostImage,alt:this.props.run.HostName})),React.createElement("div",{className:"pokemon-info"},React.createElement("div",{className:"name"},this.props.trainer.name),React.createElement("div",{className:"informatic money"},(this.props.trainer.money||0).toLocaleString()),React.createElement("div",{className:"informatic coins"},(this.props.trainer.coins||0).toLocaleString()),React.createElement("div",{className:"informatic balls"},(this.props.trainer||{ball_count:0}).ball_count),React.createElement("div",{className:"informatic badges"},"Badges: "+(this.props.trainer.badges||0).toString(2).replace(/0/g,"").length/("Burning Red"==this.props.run.RunName?2:1)),React.createElement("div",{className:"informatic owned"},"Owned: "+this.props.trainer.caught),React.createElement("div",{className:"informatic seen"},"Seen: "+this.props.trainer.seen))):null,this.props.party.map(function(e){return e&&React.createElement(i,{key:e.name+":"+e.personality_value,pokemon:e})})))},a);function a(){return null!==t&&t.apply(this,arguments)||this}e.CurrentParty=n;var r,s=["Default","Misc","Met","IVs","EVs","Stats","Condition","Evolutions"],i=(r=React.Component,__extends(o,r),o.prototype.renderInfo=function(e,t){switch(e){default:return React.createElement("div",{className:"pokemon-info"},React.createElement("div",{className:"name"},t.name),React.createElement("div",{className:"types"},React.createElement(c,{type:t.species.type1}),t.species.type2!=t.species.type1?React.createElement(c,{type:t.species.type2}):null),t.level&&React.createElement("div",{className:"level"},t.level+(100==t.level||(t.experience||{remaining:1}).remaining?0:1)),t.ability&&React.createElement("div",{className:"ability informatic"},t.ability),React.createElement("ul",{className:"moves"},t.moves.map(function(e){return React.createElement(p,{move:e,key:e.id})})),t.held_item&&0<t.held_item.id&&React.createElement("div",{className:"held-item informatic"},t.held_item.name));case"EVs":return React.createElement("div",{className:"pokemon-info"},React.createElement("div",{className:"name"},t.name),React.createElement("div",{className:"informatic"},"EVs"),t.evs&&React.createElement("ul",{className:"stats"},React.createElement("li",{className:"informatic"},"HP: ",t.evs.hp),React.createElement("li",{className:"informatic"},"Atk: ",t.evs.attack),React.createElement("li",{className:"informatic"},"Def: ",t.evs.defense),React.createElement("li",{className:"informatic"},"Spd: ",t.evs.speed),React.createElement("li",{className:"informatic"},"Spatk: ",t.evs.special_attack),React.createElement("li",{className:"informatic"},"Spdef: ",t.evs.special_defense)));case"IVs":return React.createElement("div",{className:"pokemon-info"},React.createElement("div",{className:"name"},t.name),React.createElement("div",{className:"informatic"},"IVs"),t.ivs&&React.createElement("ul",{className:"stats"},React.createElement("li",{className:"informatic"},"HP: ",t.ivs.hp),React.createElement("li",{className:"informatic"},"Atk: ",t.ivs.attack),React.createElement("li",{className:"informatic"},"Def: ",t.ivs.defense),React.createElement("li",{className:"informatic"},"Spd: ",t.ivs.speed),React.createElement("li",{className:"informatic"},"Spatk: ",t.ivs.special_attack),React.createElement("li",{className:"informatic"},"Spdef: ",t.ivs.special_defense)));case"Stats":var n=t;return React.createElement("div",{className:"pokemon-info"},React.createElement("div",{className:"name"},t.name),React.createElement("div",{className:"informatic"},"Stats"),n.stats&&React.createElement("ul",{className:"stats"},React.createElement("li",{className:"informatic"},"HP: ",n.stats.hp),React.createElement("li",{className:"informatic"},"Atk: ",n.stats.attack),React.createElement("li",{className:"informatic"},"Def: ",n.stats.defense),React.createElement("li",{className:"informatic"},"Spd: ",n.stats.speed),React.createElement("li",{className:"informatic"},"Spatk: ",n.stats.special_attack),React.createElement("li",{className:"informatic"},"Spdef: ",n.stats.special_defense)));case"Condition":return React.createElement("div",{className:"pokemon-info"},React.createElement("div",{className:"name"},t.name),React.createElement("div",{className:"informatic"},"Condition"),t.condition&&React.createElement("ul",{className:"stats"},React.createElement("li",{className:"informatic"},"Coolness: ",t.condition.coolness),React.createElement("li",{className:"informatic"},"Cuteness: ",t.condition.cuteness),React.createElement("li",{className:"informatic"},"Beauty: ",t.condition.beauty),React.createElement("li",{className:"informatic"},"Smartness: ",t.condition.smartness),React.createElement("li",{className:"informatic"},"Toughness: ",t.condition.toughness),React.createElement("li",{className:"informatic"},"Feel/Sheen: ",t.condition.feel),"number"==typeof t.affection&&React.createElement("li",{className:"informatic"},"❤️: ",t.affection)));case"Misc":return React.createElement("div",{className:"pokemon-info"},React.createElement("div",{className:"name"},t.name),t.experience&&React.createElement("ul",{className:"stats"},React.createElement("li",{className:"informatic"},"Experience"),React.createElement("li",{className:"informatic"},"Current: ",t.experience.current),React.createElement("li",{className:"informatic"},"Next Level: ",t.experience.next_level),React.createElement("li",{className:"informatic"},"Remaining: ",t.experience.remaining)),t.nature&&React.createElement("div",{className:"nature informatic"},t.nature),t.characteristic&&React.createElement("div",{className:"characteristic informatic"},t.characteristic),t.friendship&&React.createElement("div",{className:"friendship informatic"},t.friendship));case"Met":return React.createElement("div",{className:"pokemon-info"},React.createElement("div",{className:"name"},t.name),React.createElement("div",{className:"informatic"},"Met:"),t.met&&React.createElement("ul",{className:"stats"},t.met.area_id&&React.createElement("li",{className:"informatic"},t.met.area_name||"Area #"+t.met.area_id),t.met.level&&React.createElement("li",{className:"informatic"},"Level ",t.met.level),t.met.caught_in&&React.createElement("li",{className:"informatic"},"Caught in ",t.met.caught_in),t.met.game&&"string"==typeof t.met.game&&React.createElement("li",{className:"informatic"},"Game: ",t.met.game)));case"Evolutions":return React.createElement("div",{className:"pokemon-info"},React.createElement("div",{className:"name"},t.name),React.createElement("div",{className:"informatic"},"Evolutions:"),t.species&&t.species.evolutions?0<t.species.evolutions.length?t.species.evolutions.map(function(e,t){return React.createElement("div",{className:"informatic evolution",key:t},!!e.special_condition&&React.createElement("span",null,e.special_condition," "),!!e.level&&React.createElement("span",null,"At Level ",e.level," "),!!e.is_trade&&React.createElement("span",null,"Trade "),!!e.required_item&&React.createElement("span",null,e.is_trade?"Holding":e.special_condition?"":"With"," ",e.required_item.name," "),!!e.required_map_name&&React.createElement("span",null,e.required_map_name," "),!!e.required_happiness&&React.createElement("span",null,"With ",e.required_happiness," Happiness "),!!e.required_time_of_day&&React.createElement("span",null,("Morn"==e.required_time_of_day?"In the Morning":"Day"==e.required_time_of_day&&"During the Day")||"Night"==e.required_time_of_day&&"At Night"||"MornDay"==e.required_time_of_day&&"While the Sun's Out"))}):React.createElement("div",{className:"informatic"},"None"):React.createElement("div",{className:"informatic"},"Unknown"))}},o.prototype.render=function(){var t=this,e=this.props.pokemon;if(!e)return null;var n,a=!0;e.health&&(n=e.health[0]/e.health[1]*100,a=!1);var r=[a?null:Math.floor(n)<=20?"health-low":50<Math.floor(n)?"health-high":"health-med",e.gender,a?null:0==e.health[0]?"fainted":"",e.status].filter(function(e){return!!e}).map(h.cleanString).join(" ");return React.createElement("li",{className:r,onClick:function(e){return t.setState(function(e){return{infoMode:((e&&e.infoMode||0)+1)%s.length}})}},React.createElement("div",{className:"pokemon-image"},React.createElement(f.PokeSprite,{pokemon:e.is_egg?"Egg":e.species.name,gender:e.gender,shiny:e.shiny}),React.createElement("div",{className:"species"},e.is_egg?"Egg":e.species.name)),e.is_egg?null:this.renderInfo(s[this.state&&this.state.infoMode||0],e))},o);function o(){return null!==r&&r.apply(this,arguments)||this}e.Pokemon=i;var l,c=(l=React.PureComponent,__extends(u,l),u.prototype.render=function(){var e=("???"==this.props.type?"Fairy":this.props.type)||"";return"number"==typeof e?React.createElement("img",{src:"https://static-cdn.jtvnw.net/emoticons/v1/"+e+"/1.0"}):React.createElement("img",{src:"img/type-icons/"+e.toLowerCase()+".png",title:e,alt:e})},u);function u(){return null!==l&&l.apply(this,arguments)||this}var m,p=(m=React.PureComponent,__extends(d,m),d.prototype.render=function(){var t=this,e=this.props.move,n={transformOrigin:"left center",transform:"scale(.8)"};return e&&React.createElement("li",{onClick:function(e){e.stopPropagation(),t.setState(function(e){return{showStats:!e.showStats}})},style:{cursor:"pointer"}},React.createElement(c,{type:e.type}),this.state.showStats?React.createElement("span",{className:"move-name"},React.createElement("i",{className:"fa fa-power-off",style:n}),e.base_power," ",React.createElement("i",{className:"fa fa-search",style:n}),Math.min(e.accuracy,100),"% ",React.createElement("i",{className:"fa fa-file-powerpoint-o",style:n}),e.pp):React.createElement("span",{className:"move-name"},e.name))},d);function d(){var e=null!==m&&m.apply(this,arguments)||this;return e.state={showStats:!1},e}}((f=h.Elements||(h.Elements={})).RunStatus||(f.RunStatus={}))}(TPP=TPP||{}),function(e){var o,l;o=e.Display||(e.Display={}),function(a){var e,t=(e=React.Component,__extends(n,e),n.prototype.render=function(){return this.props.pc&&this.props.pc.boxes?React.createElement("div",null,React.createElement("h2",null,o.pokeRedCondenseText("Pokemon Storage System")),this.props.pc.boxes.filter(function(e){return!(!e||!e.box_number&&0!==e.box_number)}).map(function(e){return React.createElement(s,{key:e.box_number,boxName:e.box_name,boxNumber:e.box_number,boxContents:e.box_contents})})):null},n);function n(){return null!==e&&e.apply(this,arguments)||this}a.PC=t;var r,s=(r=React.Component,__extends(i,r),i.prototype.render=function(){var e=this.props.boxNumber,t=this.props.boxName,n=this.props.boxContents;return React.createElement(l.PokeBox,{title:(e?"#"+e+": ":"")+t+" ("+n.length+")",className:"pokemon-hud pc-box"},React.createElement("ul",{className:"party"},0<n.length?n.map(function(e){return React.createElement(a.Pokemon,{pokemon:e,key:e.box_slot||e.personality_value})}):React.createElement("li",{className:"empty"},"Empty")))},i);function i(){return null!==r&&r.apply(this,arguments)||this}a.PCBox=s}((l=o.Elements||(o.Elements={})).RunStatus||(l.RunStatus={}))}(TPP=TPP||{}),function(e){var t,a,n,r,s;function i(){return null!==r&&r.apply(this,arguments)||this}t=e.Display||(e.Display={}),a=t.Elements||(t.Elements={}),n=a.RunStatus||(a.RunStatus={}),r=React.PureComponent,__extends(i,r),i.prototype.render=function(){var e=this.props.mapName,t=this.props.areaName,n=e||t;return n?React.createElement(a.PokeBox,{title:"Current Location"},React.createElement("h3",null,n)):null},s=i,n.CurrentLocation=s}(TPP=TPP||{}),function(u){var m,p;m=u.Display||(u.Display={}),function(e){var t,n=(t=React.Component,__extends(a,t),a.prototype.render=function(){var t=this,e=Object.keys(this.props.gameStats||{});return e.length?React.createElement(p.PokeBox,{title:""+this.props.title,className:"itemsList gameStats"},React.createElement("ul",null,e.map(function(e){return React.createElement(l,{key:e,name:e,value:t.props.gameStats[e]})}))):null},a);function a(){return null!==t&&t.apply(this,arguments)||this}e.GameStats=n;var r,s=/(Seconds Spent)/i,i=/\bTime\b/i,o=/Money/i,l=(r=React.PureComponent,__extends(c,r),c.prototype.render=function(){var e,t=this.props.name,n=this.props.value.toLocaleString();return i.test(t)?n=new u.Duration(0).AddHours(this.props.value>>16).AddMinutes(this.props.value>>8&255).AddSeconds(255&this.props.value).MultiplyBy(65835/65536).toString():s.test(t)?((e=new u.Duration(0)).TotalSeconds=this.props.value,n=e.toString(1<=e.TotalDays?u.Scale.Days:1<=e.TotalHours?u.Scale.Hours:u.Scale.Minutes),t=t.replace(s,"Time Spent")):o.test(t)&&(n="$"+n),React.createElement("li",{"data-quantity":n},m.pokeRedCondenseText(t),":")},c);function c(){return null!==r&&r.apply(this,arguments)||this}}((p=m.Elements||(m.Elements={})).RunStatus||(p.RunStatus={}))}(TPP=TPP||{}),function(r){var s,i,o,n,e;function t(e){var t=n.call(this,e)||this;return t.bakeEvents=function(e){return e.map(function(e){return e.RunTime=r.Duration.parse(e.Time,t.state.run.StartTime).toString(r.Scale.Days).replace(/m.*/,"m"),e})},t.state={run:e.run,status:{},lastScreen:e.run.LastScreenshot,lastScreenTime:r.Duration.parse(e.run.Duration,e.run.StartTime).toString(r.Scale.Days)},t}s=r.Display||(r.Display={}),i=s.Elements||(s.Elements={}),o=i.RunStatus||(i.RunStatus={}),n=React.Component,__extends(t,n),t.prototype.UpdateRunData=function(){var t=this;this.setState({updatingRunData:!0}),$.get("http://thatswhatyouget.github.io/tpp-progress/bin/tpp-data.json").then(function(e){e.forEach(function(e){return e.Runs.forEach(function(e){e.RunName==t.state.run.RunName&&(e.Ongoing=e.Ongoing||1e3*e.StartTime<=Date.now()&&1e3*(r.Duration.parse(e.Duration,e.StartTime).TotalSeconds+e.StartTime)>Date.now(),t.setState({run:e,updatingRunData:!1}))})})},function(e){return t.setState({updatingRunData:!1})})},t.prototype.UpdateRunStatus=function(){var t=this;this.wouldHaveRunStatus&&(this.setState({updatingStatus:!0}),$.get(this.inLocalTestMode?"http://localhost:1337/":!this.inTestMode&&this.state.run.FinalStateLink||"https://twitchplayspokemon.tv/api/run_status").then(function(e){return t.props.run.APIObjectName?e[t.props.run.APIObjectName]:e}).then(function(e){return t.setState({status:e,updatingStatus:!1})},function(e){return t.setState({updatingStatus:!1})}))},t.prototype.UpdateScreenshot=function(){var t=this;this.state.run.SidegameId&&(this.setState({updatingScreenshot:!0}),$.get("https://twitchplayspokemon.tv/api/sidegame_inputs?filter:id.game="+this.state.run.SidegameId+"&sort=-id.position").then(function(e){return t.setState({updatingScreenshot:!1,lastScreen:e.length?"https://twitchplayspokemon.tv/sidegame_image/"+e[0].id.position:t.state.lastScreen,lastScreenTime:e.length?r.Duration.parse(e[0].timestamp,t.state.run.StartTime).toString(r.Scale.Days):t.state.lastScreenTime})},function(e){return t.setState({updatingScreenshot:!1})}))},t.prototype.componentDidMount=function(){var e=this;if(this.isFutureRun)return this.updateLoop=setInterval(function(){return e.isFutureRun?e.forceUpdate():(clearInterval(e.updateLoop),void window.location.reload())},1e3);this.props.run.Ongoing&&0<this.props.autoUpdate&&(this.updateLoop=setInterval(function(){return e.state.run.Ongoing?(e.UpdateRunData(),e.UpdateRunStatus(),void e.UpdateScreenshot()):clearInterval(e.updateLoop)},6e4*this.props.autoUpdate)),this.UpdateRunStatus(),this.props.run.SidegameId&&!this.props.run.LastScreenshot&&this.UpdateScreenshot()},t.prototype.componentWillUnmount=function(){clearInterval(this.updateLoop)},t.prototype.shouldComponentUpdate=function(e,t){return!0},Object.defineProperty(t.prototype,"wouldHaveRunStatus",{get:function(){return this.state.run.Ongoing||this.inTestMode||this.inLocalTestMode||this.state.run.FinalStateLink},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inTestMode",{get:function(){return 0<window.location.hash.indexOf("test")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"inLocalTestMode",{get:function(){return 0<window.location.hash.indexOf("m4-test")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loading",{get:function(){return this.state.run&&this.state.run.Ongoing&&this.wouldHaveRunStatus&&!this.state.status&&!this.state.error},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updating",{get:function(){return!this.loading&&(this.state.updatingRunData||this.state.updatingStatus||this.state.updatingScreenshot)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Pokedex",{get:function(){var e=this;if(!this.props.buildDex)return null;var t=this.props.buildDex(this.props.run).Clone();return t.TotalOwned?React.createElement(i.PokeBox,{title:"Pokédex",className:"pokedex"},this.PokedexOutOfDate(t)?React.createElement("h6",null,"Outdated"):"",React.createElement(i.Pokedex.Dex,{dex:t,caughtList:this.state.dexSeen?this.state.status.seen_list:this.state.status.caught_list||[],run:this.props.run,ownedOnly:!this.state.dexSeen,label:this.state.dexSeen?"Seen":"Owned",onClickTotal:this.state.status&&function(){return e.setState(function(e){return{dexSeen:!e.dexSeen}})}},React.createElement("a",{className:"plug",href:"pokedex.html"},"See Global Pokédex"))):null},enumerable:!1,configurable:!0}),t.prototype.PokedexOutOfDate=function(e){return this.state.status&&e&&!Array.isArray(this.state.status.caught_list)&&this.state.status.caught>e.TotalOwned},Object.defineProperty(t.prototype,"numBadges",{get:function(){return this.state.status&&this.state.status.badges?((this.state.status.badges||0).toString(2).match(/1/g)||[]).length:this.badges.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"badgesOutOfDate",{get:function(){return this.numBadges>this.badges.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"badges",{get:function(){return this.bakeEvents(this.state.run.Events.filter(function(e){return"Badges"==e.Group||"Bosses"==e.Group||"Kingdoms"==e.Group}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eliteFour",{get:function(){return this.bakeEvents(this.state.run.Events.filter(function(e){return"Elite Four"==e.Group||"Final Bosses"==e.Group||"Champions"==e.Group&&(e.Image+" "+e.Class).toLowerCase().indexOf("rematch")<0&&e.Image.indexOf("hosts")<0}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"eliteFourRematch",{get:function(){return this.bakeEvents(this.state.run.Events.filter(function(e){return"Elite Four Rematch"==e.Group||"Champions"==e.Group&&0<(e.Image+" "+e.Class).toLowerCase().indexOf("rematch")}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pastHosts",{get:function(){return this.bakeEvents(this.state.run.Events.filter(function(e){return"Past Hosts"==e.Group||"Champions"==e.Group&&0<e.Image.indexOf("hosts")}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rematchBadges",{get:function(){return this.bakeEvents(this.state.run.Events.filter(function(e){return"Rematch Badges"==e.Group}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"partyDisplay",{get:function(){if(this.state.status&&this.state.status.party)return React.createElement(o.CurrentParty,{party:this.state.status.party,trainer:this.state.status,run:this.state.run});var e=this.state.run.Events.filter(function(e){return e.Party}).pop();if(!e)return null;var t=new s.ViewModels.PartyDisplay(e,this.state.run,r.Scale.Days),n=t.Title,a=t.Class;return t.Title=t.Class=t.Colors=null,React.createElement(i.PokeBox,{title:n,className:a},React.createElement(i.PartyDisplay,{partyInfo:t}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFutureRun",{get:function(){return 1e3*this.state.run.StartTime>Date.now()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"timeUntilRun",{get:function(){var e=new r.Duration(0);return e.TotalSeconds=(1e3*this.state.run.StartTime-Date.now())/1e3,e.toString(r.Scale.Weeks)},enumerable:!1,configurable:!0}),t.prototype.render=function(){var e;return this.state.status.items=this.state.status.items||{},e=this.state.error?React.createElement("h1",{className:"error"},"Run Status is not currently available."):this.loading?React.createElement("i",{className:"fa fa-spinner fa-pulse"}):this.isFutureRun?React.createElement("h2",null,"Starts in ",this.timeUntilRun):React.createElement("div",{className:s.cleanString(this.state.run.RunName)+" "+this.state.run.Class},this.state.lastScreen?React.createElement(i.PokeBox,{className:"last-screenshot",title:(this.state.run.Ongoing?"Latest":"Last")+" Screenshot"},React.createElement("img",{src:this.state.lastScreen}),this.state.lastScreenTime?React.createElement("h4",null,this.state.lastScreenTime):null):null,this.partyDisplay,React.createElement(i.PokeBox,{title:"Duration"},React.createElement("h3",null,r.Duration.parse(this.state.run.Ongoing?(new Date).toISOString():this.state.run.Duration,this.state.run.StartTime).toString())),React.createElement(o.CurrentLocation,{mapName:this.state.status.map_name,areaName:this.state.status.area_name}),React.createElement(o.EventDisplay,{key:"Past Hosts",events:this.pastHosts}),React.createElement(o.EventDisplay,{key:"Elite Four Rematch",events:this.eliteFourRematch}),React.createElement(o.EventDisplay,{key:"Rematch Badges",events:this.rematchBadges}),React.createElement(o.EventDisplay,{key:"Elite Four",events:this.eliteFour}),React.createElement(o.EventDisplay,{key:"Badges",events:this.badges},this.badgesOutOfDate?React.createElement("h6",null,"Outdated"):null),React.createElement(o.GameStats,{key:"Game Stats",title:"Stats",gameStats:this.state.status.game_stats}),React.createElement(o.ItemDisplay,{key:"Candy",title:"Candy",items:this.state.status.items.candy}),React.createElement(o.ItemDisplay,{key:"Items",title:"Items",items:this.state.status.items.items}),React.createElement(o.ItemDisplay,{key:"Key Items",title:"Key Items",items:this.state.status.items.key}),React.createElement(o.ItemDisplay,{key:"Key Items FR",title:"Key Items (FireRed)",items:this.state.status.items.key_firered}),React.createElement(o.ItemDisplay,{key:"Key Items R",title:"Key Items (Red)",items:this.state.status.items.key_red}),React.createElement(o.ItemDisplay,{key:"Poké Balls",title:"Poké Balls",items:this.state.status.items.balls}),React.createElement(o.ItemDisplay,{key:"TMs",title:"TMs and HMs",items:this.state.status.items.tms}),React.createElement(o.ItemDisplay,{key:"TM",title:"TMs and HMs",items:this.state.status.items.tm}),React.createElement(o.ItemDisplay,{key:"Medicine",title:"Medicine",items:this.state.status.items.medicine}),React.createElement(o.ItemDisplay,{key:"Mail",title:"Mail",items:this.state.status.items.mail}),React.createElement(o.ItemDisplay,{key:"Battle Items",title:"Battle Items",items:this.state.status.items.battle}),React.createElement(o.ItemDisplay,{key:"Berries",title:"Berries",items:this.state.status.items.berries}),React.createElement(o.ItemDisplay,{key:"Berry",title:"Berries",items:this.state.status.items.berry}),React.createElement(o.ItemDisplay,{key:"Z-Crystals",title:"Z-Crystals",items:this.state.status.items.z_crystals}),React.createElement(o.ItemDisplay,{key:"Rotom Powers",title:"Rotom Powers",items:this.state.status.items.rotom_powers}),React.createElement(o.ItemDisplay,{key:"Free Space",title:"Free Space",items:this.state.status.items.free_space}),React.createElement(o.ItemDisplay,{key:"PC Items",title:s.pokeRedCondenseText(this.state.run.HostName+"'s PC"),items:this.state.status.items.pc}),React.createElement(o.ItemDisplay,{key:"PC Items FR",title:s.pokeRedCondenseText("FireRed's PC"),items:this.state.status.items.pc_firered}),React.createElement(o.ItemDisplay,{key:"PC Items R",title:s.pokeRedCondenseText("Red's PC"),items:this.state.status.items.pc_red}),this.Pokedex,this.state.status&&this.state.status.daycare&&0<this.state.status.daycare.length&&React.createElement(o.PCBox,{boxName:"Daycare",boxContents:this.state.status.daycare}),this.state.status&&React.createElement(o.PC,{pc:this.state.status.pc})),React.createElement("div",{className:"run-status"},React.createElement("h1",null,this.state.run.RunName,this.updating?React.createElement("i",{className:"fa fa-refresh fa-spin updating"}):null),e)},e=t,o.App=e}(TPP=TPP||{}),function(i){var e,n,t;function a(e){var t=n.call(this,e)||this;return t.pageTitle="Run Status",t.seeAlso=React.createElement("a",{href:"index.html"},"See Progress Bars"),t.credits=["Default sprites are from [Bulbapedia](http://bulbapedia.bulbagarden.net/) and [PLDHnet's SpriteDex](http://pldh.net/dex/sprites/index).","Pokemon sprites are from [The DS-style 64x64 Pokémon Sprite Resource](https://www.pokecommunity.com/showthread.php?t=267728), extended for [Gen 6](https://www.pokecommunity.com/showthread.php?t=314422) and [Gen 7](https://www.pokecommunity.com/showthread.php?t=368703).","All custom sprites can be clicked for links to their sources."],t.controls=[qsOptionsMenu("fa-sliders","Options",{autorefresh:"Refresh Automatically"})],t}e=i.Controllers||(i.Controllers={}),n=e.ControllerBase,__extends(a,n),a.prototype.render=function(){var a=i.Transforms.Data.Processing.MarkOngoingRuns(this.tppData),e=this.queryString.run?i.Display.RunStatus.GetSpecifiedRun(a,this.queryString.run):i.Display.RunStatus.GetCurrentRun(i.Transforms.Data.Filter.RemoveFutureRuns(a)),r=i.Transforms.Pokedex.ClipNationalDex(e.DexTotal||dexData.GenSlice[e.Generation||0]);0<=e.RunName.indexOf("Chatty Yellow")&&r.push("Chatot"),0<=e.RunName.indexOf("Burning Red")&&r.push("Phancero"),(0<=e.RunName.indexOf("Metronome Sapphire")||0<=e.RunName.indexOf("Metronome Ruby"))&&(r.push("Meltan"),r.push("Melmetal")),0<=e.RunName.indexOf("Chatty Crystal")&&(r.push("Onixtret"),r.push("Steelurret"),r.push("Chiquirtle"),r.push("Baytortle"),r.push("Megastoise"),r.push("Hootduo"),r.push("Noctdrio"),r.push("Togekey"),r.push("Togetape"),r.push("Hopporita"),r.push("Skipleef"),r.push("Jumpanium"),r.push("Woochum"),r.push("Quagynx"),r.push("Phancero"));var s=i.Transforms.Pokedex.DexMerge(dexData.Regional[e.Pokedex||e.Region],r);return this.contentTitle=e.RunName+" Status",e.Ongoing&&(this.credits[0]="Live Data: [TwitchPlaysPokemon.tv](https://twitchplayspokemon.tv/) &nbsp;&nbsp Other "+this.credits[0]),(e.TPPOrgLink||e.DocumentLink)&&this.credits.push(["For more information about this run, check out ",e.DocumentLink?"[this document]("+e.DocumentLink+")":null,e.TPPOrgLink&&e.DocumentLink?"and":null,e.TPPOrgLink?"[twitchplayspokemon.org]("+e.TPPOrgLink+")":null].filter(function(e){return!!e}).join(" ")+"."),React.createElement(i.Display.Elements.RunStatus.App,{autoUpdate:this.queryString.autorefresh?5:0,buildDex:function(n){a.forEach(function(e){for(var t=0;t<e.Runs.length;t++)if(e.Runs[t].RunName==n.RunName&&e.Runs[t].StartTime==n.StartTime)return e.Runs[t]=n});var e=new i.Transforms.Pokedex.GlobalDex(new i.Transforms.Pokedex.CollectionSummary(a,s),s),t=new i.Transforms.Pokedex.GlobalDex(new i.Transforms.Pokedex.CollectionSummary(a,r),r);return t.TotalOwnedBy(n)>e.TotalOwnedBy(n)?t:e},run:e})},t=a,e.RunStatusController=t}(TPP=TPP||{}),function(e){var t,n,a,r,s;function i(){return null!==r&&r.apply(this,arguments)||this}t=e.Display||(e.Display={}),n=t.Elements||(t.Elements={}),a=n.ProgressBars||(n.ProgressBars={}),r=React.Component,__extends(i,r),s=i,a.Event=s}(TPP=TPP||{}),function(e){var t,n,a,r,s;function i(){return null!==r&&r.apply(this,arguments)||this}t=e.Display||(e.Display={}),n=t.Elements||(t.Elements={}),a=n.ProgressBars||(n.ProgressBars={}),r=React.Component,__extends(i,r),Object.defineProperty(i.prototype,"data",{get:function(){return this.props.run},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return{backgroundColor:this.data.ColorPrimary,backgroundImage:this.data.BackgroundImage,borderColor:this.data.ColorSecondary,color:this.data.ColorSecondary,width:this.duration.TotalTime(this.props.scale)*this.props.pixelsPerDay+"px"}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"duration",{get:function(){return e.Duration.parse(this.data.Duration,this.data.StartTime)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"label",{get:function(){return this.data.RunName+": "+this.duration.toString(this.props.scale)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"className",{get:function(){return["run",this.data.Ongoing?"ongoing":null,this.data.Class,t.cleanString(this.data.Region),t.cleanString(this.data.RunName)].filter(function(e){return!!e}).join(" ")},enumerable:!1,configurable:!0}),i.prototype.render=function(){return React.createElement("div",{className:this.className,style:this.style,"data-label":this.label})},s=i,a.Run=s}(TPP=TPP||{}),function(a){var e,t,n,r,s;function i(){return null!==r&&r.apply(this,arguments)||this}e=a.Display||(a.Display={}),t=e.Elements||(e.Elements={}),n=t.ProgressBars||(t.ProgressBars={}),r=React.Component,__extends(i,r),Object.defineProperty(i.prototype,"data",{get:function(){return this.props.collection},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"offset",{get:function(){return this.props.offset||0},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"style",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"scale",{get:function(){return this.data.Scale},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longestRunDuration",{get:function(){return(this.data.Runs||[]).map(function(e){return a.Duration.parse(e.Duration,e.StartTime)}).sort(function(e,t){return e.TotalSeconds-t.TotalSeconds}).pop()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ruler",{get:function(){for(var e=this.longestRunDuration.TotalTime(this.scale),t=[],n=0;n<=e+1;n++)t.push(React.createElement("div",{className:"stop","data-scale":a.Scale[this.scale]}));return React.createElement("div",{className:"ruler"},t)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"runs",{get:function(){var t=this;return this.data.Runs.map(function(e){return React.createElement(n.Run,{key:e.StartTime+e.RunName,run:e,scale:t.scale,pixelsPerDay:t.props.pixelsPerDay})})},enumerable:!1,configurable:!0}),i.prototype.render=function(){return this.data.Runs&&this.data.Runs.length?React.createElement("div",{className:"progressChart","data-label":this.data.Name,id:e.cleanString(this.data.Name),style:this.style},this.ruler,this.runs):null},s=i,n.Collection=s}(TPP=TPP||{}),function(e){var t,n,a,r,s;function i(){return null!==r&&r.apply(this,arguments)||this}t=e.Display||(e.Display={}),n=t.Elements||(t.Elements={}),a=n.ProgressBars||(n.ProgressBars={}),r=React.Component,__extends(i,r),s=i,a.App=s}(TPP=TPP||{});